:root {
  --bg-primary: #efefef;
  --bg-secondary: #fff;
  --bg-header: #000;
  --bg-header-hover: #333;
  --bg-table-header: #efefef;
  --bg-highlight: #efefef;
  --bg-working: #f4ffe4;
  --bg-failure: #ffecec;
  --bg-queue-tag: #b1d2e9;
  --bg-pagination: #efefef;
  --bg-failed-item: linear-gradient(to bottom, #efefef, #fff);
  --bg-subnav-link: #dd5b5b;
  --accent: #ce1212;
  --accent-dark: #b00909;
  --text-primary: #111;
  --text-secondary: #888;
  --text-muted: #999;
  --text-header: #333;
  --text-white: #fff;
  --text-working: #7ac312;
  --text-failure: #d37474;
  --text-queue-tag: #3274a2;
  --border-color: #ccc;
  --border-header: #444;
  --border-footer: #ccc;
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) {
    --bg-primary: #1a1a1a;
    --bg-secondary: #2d2d2d;
    --bg-header: #0d0d0d;
    --bg-header-hover: #444;
    --bg-table-header: #333;
    --bg-highlight: #3a3a3a;
    --bg-working: #1a2e0a;
    --bg-failure: #3d1a1a;
    --bg-queue-tag: #1a3a4d;
    --bg-pagination: #333;
    --bg-failed-item: linear-gradient(to bottom, #333, #2d2d2d);
    --bg-subnav-link: #8b3a3a;
    --text-primary: #e0e0e0;
    --text-secondary: #aaa;
    --text-muted: #888;
    --text-header: #ccc;
    --text-working: #8fd14f;
    --text-failure: #e88;
    --text-queue-tag: #6ab0e0;
    --border-color: #555;
    --border-header: #555;
    --border-footer: #444;
  }
}

[data-theme="dark"] {
  --bg-primary: #1a1a1a;
  --bg-secondary: #2d2d2d;
  --bg-header: #0d0d0d;
  --bg-header-hover: #444;
  --bg-table-header: #333;
  --bg-highlight: #3a3a3a;
  --bg-working: #1a2e0a;
  --bg-failure: #3d1a1a;
  --bg-queue-tag: #1a3a4d;
  --bg-pagination: #333;
  --bg-failed-item: linear-gradient(to bottom, #333, #2d2d2d);
  --bg-subnav-link: #8b3a3a;
  --text-primary: #e0e0e0;
  --text-secondary: #aaa;
  --text-muted: #888;
  --text-header: #ccc;
  --text-working: #8fd14f;
  --text-failure: #e88;
  --text-queue-tag: #6ab0e0;
  --border-color: #555;
  --border-header: #555;
  --border-footer: #444;
}

html { background: var(--bg-primary); font-family:Arial, Verdana, sans-serif; font-size:13px; }
body { padding:0; margin:0; }

.header { background: var(--bg-header); padding:8px 5% 0 5%; border-bottom:1px solid var(--border-header);border-bottom:5px solid var(--accent); position: relative;}
.header h1 { color: var(--text-header); font-size:90%; font-weight:bold; margin-bottom:6px;}
.header ul li { display:inline;}
.header ul li a { color: var(--text-white); text-decoration:none; margin-right:10px; display:inline-block;  padding:8px; -webkit-border-top-right-radius:6px; -webkit-border-top-left-radius:6px; -moz-border-radius-topleft:6px; -moz-border-radius-topright:6px; }
.header ul li a:hover { background: var(--bg-header-hover);}
.header ul li.current a { background: var(--accent); font-weight:bold; color: var(--text-white);}

.header .namespace { position: absolute; right: 50px; top: 12px; color: var(--text-white); font-weight: bold; }

.subnav { padding:2px 5% 7px 5%; background: var(--accent); font-size:90%;}
.subnav li { display:inline;}
.subnav li a { color: var(--text-white); text-decoration:none; margin-right:10px; display:inline-block; background: var(--bg-subnav-link); padding:5px; -webkit-border-radius:3px; -moz-border-radius:3px;}
.subnav li.current a { background: var(--bg-secondary); font-weight:bold; color: var(--accent);}
.subnav li a:active { background: var(--accent-dark);}

#main { padding:10px 5%; background: var(--bg-secondary); overflow:hidden; }
#main .logo { float:right; margin:10px;}
#main span.hl { background: var(--bg-highlight); padding:2px;}
#main h1 { margin:10px 0; font-size:190%; font-weight:bold; color: var(--accent);}
#main h2 { margin:10px 0; font-size:130%; color: var(--text-primary);}
#main table { width:100%; margin:10px 0;}
#main table tr td, #main table tr th { border:1px solid var(--border-color); padding:6px;}
#main table tr th { background: var(--bg-table-header); color: var(--text-secondary); font-size:15px; font-weight:bold;}
#main table tr td { background: var(--bg-secondary); color: var(--text-primary);}
#main table tr td.no-data { text-align:center; padding:40px 0; color: var(--text-muted); font-style:italic; font-size:130%;}
#main a { color: var(--text-primary);}
#main p { margin:5px 0; color: var(--text-primary);}
#main p.intro { margin-bottom:15px; font-size:85%; color: var(--text-muted); margin-top:0; line-height:1.3;}
#main h1.wi { margin-bottom:5px;}
#main p.sub { font-size:95%; color: var(--text-muted);}

#main table.queues { width:40%;}
#main table.queues td.queue { font-weight:bold; width:50%;}
#main table.queues tr.failure td { background: var(--bg-failure); font-size:90%; color: var(--text-failure);}
#main table.queues tr.failure td a{ color: var(--text-failure);}
#main table.queues tr.first_failure td { border-top:2px solid var(--text-failure); }

#main table.jobs td.class { font-family:Monaco, "Courier New", monospace; font-size:90%; width:50%;}
#main table.jobs td.args{ width:50%;}

#main table.workers td.icon {width:1%; background: var(--bg-highlight);text-align:center;}
#main table.workers td.icon img { height: 16px; width: 16px; }
#main table.workers td.where { width:25%;}
#main table.workers td.queues { width:35%;}
#main .queue-tag { background: var(--bg-queue-tag); padding:2px; margin:0 3px; font-size:80%; text-decoration:none; text-transform:uppercase; font-weight:bold; color: var(--text-queue-tag); -webkit-border-radius:4px; -moz-border-radius:4px;}
#main .queue-tag a { color: var(--text-queue-tag); text-decoration: none; }
#main table.workers td.queues.queue { width:10%;}
#main table.workers td.process { width:35%;}
#main table.workers td.process span.waiting { color: var(--text-muted); font-size:90%;}
#main table.workers td.process small { font-size:80%; margin-left:5px;}
#main table.workers td.process code { font-family:Monaco, "Courier New", monospace; font-size:90%;}
#main table.workers td.process small a { color: var(--text-muted);}
#main.polling table.workers tr.working td { background: var(--bg-working); color: var(--text-working);}
#main.polling table.workers tr.working td.where a { color: var(--text-working);}
#main.polling table.workers tr.working td.process code { font-weight:bold;}


#main table.stats th { font-size:100%; width:40%; color: var(--text-primary);}
#main hr { border:0; border-top:5px solid var(--bg-highlight);  margin:15px 0;}

#footer { padding:10px 5%; background: var(--bg-primary); color: var(--text-muted); font-size:85%; line-height:1.5; border-top:5px solid var(--border-footer); padding-top:10px;}
#footer p a { color: var(--text-muted);}

#main p.poll { background:url(poll.png) no-repeat 0 2px; padding:3px 0; padding-left:23px; float:right; font-size:85%; }

#main ul.failed {}
#main ul.failed li {background: var(--bg-failed-item); background-color: var(--bg-highlight); margin-top:10px; padding:10px; overflow:hidden; -webkit-border-radius:5px; border:1px solid var(--border-color); }
#main ul.failed li dl dt {font-size:80%; color: var(--text-muted); width:60px; float:left; padding-top:1px; text-align:right;}
#main ul.failed li dl dd {margin-bottom:10px; margin-left:70px; color: var(--text-primary);}
#main ul.failed li dl dd .retried { float:right; text-align: right; }
#main ul.failed li dl dd .retried .remove { display:none; margin-top: 8px; }
#main ul.failed li.hover dl dd .retried .remove { display:block; }
#main ul.failed li dl dd .controls { display:none; float:right; }
#main ul.failed li.hover dl dd .controls { display:block; }
#main ul.failed li dl dd code, #main ul.failed li dl dd pre { font-family:Monaco, "Courier New", monospace; font-size:90%; white-space: pre-wrap; color: var(--text-primary);}
#main ul.failed li dl dd.error a {font-family:Monaco, "Courier New", monospace; font-size:90%; }
#main ul.failed li dl dd.error pre { margin-top:3px; line-height:1.3;}

#main div.pagination { background: var(--bg-pagination); padding:10px;  text-align:center}
#main div.pagination a, #main div.pagination span { display: inline-block; padding: 4px 8px; color: var(--text-secondary); border: solid 1px var(--text-secondary); margin-top: 6px; }
#main div.pagination span { background: var(--text-secondary); color: var(--bg-secondary); }

#main form {float:right; margin-top:-10px;margin-left:10px;}

#main .time a.toggle_format {text-decoration:none;}

#failed tr.total td {background-color: var(--bg-failure); color: var(--text-failure); font-size: 15px; font-weight: bold;}
#failed .center {text-align: center;}
#failed .failed_class { padding-left: 20px; font-size:12px; }

/* Theme toggle button */
.theme-toggle {
  position: absolute;
  right: 15px;
  top: 10px;
  background: transparent;
  border: none;
  cursor: pointer;
  padding: 5px;
  font-size: 18px;
  line-height: 1;
  color: var(--text-white);
  opacity: 0.8;
  transition: opacity 0.2s;
}
.theme-toggle:hover {
  opacity: 1;
}
.theme-toggle .sun { display: none; }
.theme-toggle .moon { display: inline; }
[data-theme="dark"] .theme-toggle .sun { display: inline; }
[data-theme="dark"] .theme-toggle .moon { display: none; }
@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) .theme-toggle .sun { display: inline; }
  :root:not([data-theme="light"]) .theme-toggle .moon { display: none; }
}
